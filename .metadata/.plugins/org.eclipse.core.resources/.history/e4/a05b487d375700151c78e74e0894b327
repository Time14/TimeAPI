package time.api.library;

import java.util.HashMap;

public class Library <T> {
	
	private static final HashMap<String, Lib> LIBRARIES = new HashMap<>();
	
	private final String NAME;
	
	private final HashMap<String, T> ELEMENTS;
	
	public Library(String key) {
		NAME = key;
		ELEMENTS = new HashMap<>();
	}
	
	public final Lib<T> put(String key, T value) {
		ELEMENTS.put(key, value);
		return this;
	}
	
	public final T get(String key) {
		return ELEMENTS.get(key);
	}
	
	public static final Lib getLib(String key) {
		return LIBRARIES.get(key);
	}
	
	public static final void registerLib(String key, Lib lib) {
		LIBRARIES.put(key, lib);
	}
	
	public static final void destroy() {
		for(Lib l : LIBRARIES.values())
			l.ELEMENTS.clear();
		LIBRARIES.clear();
	}
}